<!DOCTYPE html>
<html lang="en">
<script src="../static/boot.js" type="text/javascript"></script>
<script src="../static/jquery.min.js" type="text/javascript"></script>
<script src="../static/js/insrep_audit1.js" type="text/javascript"></script>
<script src="../static/js/common.js" type="text/javascript"></script>
<script src="https://cdn.bootcdn.net//ajax/libs/html2canvas/0.5.0-beta4/html2canvas.js"></script>
<script src="https://cdn.bootcdn.net//ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>

<head>
    <meta charset="UTF-8">
    <title>工装申请弹窗</title>

</head>
<style>
    html,
    body {
        overflow: hidden;
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
    }
    .toolbar{
        font-size: 15px;
        font-weight: bold;
    }
</style>
<body>
<div class="mini-toolbar">
    <span class="toolbar">工装申请</span>
</div>
<table style="width: 100%;">
    <tr>
        <th>申请编号</th>
        <td>
            <input class="mini-textbox" style="width: 200px">
        </td>
        <th>公司主体</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>部门</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>申请人</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>申请日期</th>
        <td><input class="mini-datepicker" style="width: 200px">
        </td>
    </tr>
    <tr>
        <th>工程号</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>工装类别</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>需求数</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>联系方式</th>
        <td><input class="mini-textbox" style="width: 200px">
        </td>
        <th>需求日期</th>
        <td><input class="mini-datepicker" style="width: 200px">
        </td>
    </tr>
    <tr>
        <th>图号</th>
        <td><input class="mini-textbox" style="width: 200px"></td>
        <th>材料费用元</th>
        <td><input class="mini-textbox" style="width: 200px"></td>
        <th>最终下发数</th>
        <td><input class="mini-textbox" style="width: 200px"></td>
        <th>预估工时/小时</th>
        <td><input class="mini-textbox" style="width: 200px"></td>
    </tr>
    <tr>
        <th>项目名称</th>
        <td colspan="9"><input class="mini-textbox" style="width:100%"></td>

    </tr>
    <tr>
        <th>备注</th>
        <td colspan="9" style="height: 70px;">
            <div class="mini-textarea" style="width: 100%;height: 100%"></div>
        </td>
    </tr>
</table>
<div class="mini-toolbar">
    <span class="toolbar">申请材料</span>
</div>
<div id="dataGrid1" class="mini-datagrid" style="width:100%;height:300px;"
     borderStyle="border:top"
     allowResize="false"
     showPager="false"
     idField="id" allowResize="false"
     sizeList="[300,500,1000]" pageSize="300"
     showHeader="false" title="钢板预处理计划"
     multiSelect="false"
>
    <div property="columns">
        <div type="indexcolumn" headerAlign="center" width="20">序号</div>

        <div type="checkcolumn" headerAlign="center" width="10"></div>
        <div name="recomYn" headerAlign="center" align="center" width="50">是否有效</div>

        <div field="" width="60" headerAlign="center" allowSort="true">物资编码</div>
        <div field="" width="100" headerAlign="center" allowSort="true">物资描述</div>
        <div field="" width="50" renderer="onGenderRenderer" headerAlign="center">单位
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            需求数
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            最终需求数
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            预估金额/元
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            物资来源
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            备注
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            材质
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            T1
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            T2
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            B1
        </div>
        <div field="" align="right" width="50" allowSort="true" headerAlign="center">
            B2
        </div>
        <div field="" align="right" width="60" allowSort="true" headerAlign="center">
            L
        </div>
    </div>
</div>


<div class="mini-fit">
    <div id="dataGrid2" class="mini-datagrid" style="width:50%;height:100%;float: left;"
         borderStyle="border:top"
         allowResize="false"
         showPager="false"
         idField="id" allowResize="false"
         sizeList="[300,500,1000]" pageSize="300"
         showHearder="false"
         showToolbar="true"
         multiSelect="false"
    >
        <div property="toolbar">
            <div class="mini-toolbar">
                <span class="toolbar">附件信息</span>
                <button style="margin-left: 300px">上传</button>
                <button style="padding-left: 10px">删除</button>
            </div>
        </div>
        <div property="columns">
            <div type="indexcolumn" headerAlign="center" width="20">序号</div>


            <div field="" width="150" headerAlign="center" allowSort="true">文件名称</div>
            <div field="" width="50" headerAlign="center" allowSort="true">附件类型</div>
            <div field="" width="50" renderer="onGenderRenderer" headerAlign="center">上传日期
            </div>
            <div field="" align="right" width="50" allowSort="true" headerAlign="center">
                上传人
            </div>
        </div>

    </div>
    <div id="dataGrid3" class="mini-datagrid" style="width:50%;height:100%;float: right"
         borderStyle="border:top"
         allowResize="false"
         showPager="false"
         idField="id" allowResize="false"
         sizeList="[300,500,1000]" pageSize="300"
         showHeader="false" title="钢板预处理计划"
         showToolbar="true"
         multiSelect="false"
    >
        <div property="toolbar">
            <div class="mini-toolbar" style="height: 24px;display:flex;align-items: center">
                <span class="toolbar">审批过程记录</span>

            </div>
        </div>
        <div property="columns">
            <div type="indexcolumn" headerAlign="center" width="20">序号</div>


            <div field="" width="60" headerAlign="center" allowSort="true">审核人</div>
            <div field="" width="100" headerAlign="center" allowSort="true">审核意见</div>
            <div field="" width="50" renderer="onGenderRenderer" headerAlign="center">审核节点
            </div>
            <div field="" align="right" width="50" allowSort="true" headerAlign="center">
                审核结果
            </div>
            <div field="" align="right" width="50" allowSort="true" headerAlign="center">
                审核时间
            </div>
        </div>
    </div>
</div>
<div class="mini-toolbar" style="text-align: center">
    <button class="mini-button">保存</button>
    <button class="mini-button">提交</button>

    <span>选择审批人</span>
    <div class="mini-combobox"></div>


</div>
</body>
<script type="text/javascript">
    function handleAllTags() {
        var arrayOfDocFonts;
        var res = [];
        if (document.all || document.getElementById) {
            arrayOfDocFonts = document.getElementsByTagName("input");
        }
        var tmp = 0;
        for (var i = 0; i < arrayOfDocFonts.length; i++) {
            if (arrayOfDocFonts[i].id != "") {
                console.log(arrayOfDocFonts[i].id);
                //这是读取input时要分类，如果时div就不需要
                if (/text/.test(arrayOfDocFonts[i].id)) {
                    res.push(arrayOfDocFonts[i].id.substring(0, arrayOfDocFonts[i].id.length - 5));
                }
            }
            tmp += 1;
        }
        var str = "";
        for (var i = 0; i < res.length; i++) {
            str = str + "this." + res[i] + "=mini.get(\"" + res[i] + "\");\n";
        }
        console.log(str);
    }
</script>
</html>